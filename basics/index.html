<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="utf-8">
        <title>The Basics - The Gobba Programming Language Handbook</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
        </script>
		<!-- Work around some values being stored in localStorage wrapped in quotes -->
		<script type="text/javascript">
			try {
				var sidebar = localStorage.getItem('mdbook-sidebar');

				if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
					localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
				}
			} catch (e) { }
		</script>

		<header>
			<nav id="void-nav">
				<ul>
					<li><a id="skip-to-content" tabindex="1" href="#content">Skip to content</a></li>
					<li>
						<button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
								<path d="M1 3v2h18V3zm0 8h18V9H1zm0 6h18v-2H1z"/>
							</svg>
						</button>
					</li>
				
					<li>
						<button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
								<path d="M7.5 13c3.04 0 5.5-2.46 5.5-5.5S10.54 2 7.5 2 2 4.46 2 7.5 4.46 13 7.5 13zm4.55.46C10.79 14.43 9.21 15 7.5 15 3.36 15 0 11.64 0 7.5S3.36 0 7.5 0C11.64 0 15 3.36 15 7.5c0 1.71-.57 3.29-1.54 4.55l6.49 6.49-1.41 1.41-6.49-6.49z"/>
							</svg>
						</button>
					</li>
				
				</ul>
				<ul class="right">
					<li><a href="http://www.voidlinux.org">Home</a></li>
					<li><a href="http://www.voidlinux.org/news/">News</a></li>
					<li><a href="http://www.voidlinux.org/download/">Download</a></li>
					<li><a href="http://www.voidlinux.org/packages/">Packages</a></li>
					<li><a href="https://docs.voidlinux.org">Documentation</a></li>
					<li><a href="https://reddit.com/r/voidlinux">Forum</a></li>
					<li><a href="https://github.com/void-linux">GitHub</a></li>
				</ul>
			</nav>
		</header>

		<div id="content">

			<!-- Hide / unhide sidebar before it is displayed -->
			<script type="text/javascript">
				var html = document.querySelector('html');
				var sidebar = 'hidden';
				if (document.body.clientWidth >= 1080) {
					try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
					sidebar = sidebar || 'visible';
				}
				html.classList.remove('sidebar-visible');
				html.classList.add("sidebar-" + sidebar);
			</script>

			<nav id="sidebar" aria-label="Table of contents">
				<ol class="chapter"><li class="expanded "><a href="../index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="expanded "><a href="../install.html"><strong aria-hidden="true">2.</strong> Installation</a></li><li class="expanded "><a href="../basics/index.html" class="active"><strong aria-hidden="true">3.</strong> The Basics</a></li><li><ol class="section"><li class="expanded "><a href="../basics/purity.html"><strong aria-hidden="true">3.1.</strong> Purity and IO</a></li></ol></li><li class="expanded "><a href="../stdlib/stdlib.html"><strong aria-hidden="true">4.</strong> The Standard Library</a></li><li class="expanded "><a href="../ocaml.html"><strong aria-hidden="true">5.</strong> Calling Gobba from OCaml</a></li><li class="expanded "><a href="../internals/index.html"><strong aria-hidden="true">6.</strong> Internals</a></li><li><ol class="section"><li class="expanded "><a href="../internals/grammar.html"><strong aria-hidden="true">6.1.</strong> Grammar</a></li></ol></li></ol>
			</nav>

			<!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
			<script type="text/javascript">
				document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
	document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
	Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
		link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
	});
			</script>

			<div id="page-wrapper">
				
				<div id="search-wrapper" class="hidden">
					<form id="searchbar-outer" class="searchbar-outer">
						<input type="search" name="search" id="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
					</form>
					<div id="searchresults-outer" class="searchresults-outer hidden">
						<div id="searchresults-header" class="searchresults-header"></div>
						<ul id="searchresults">
						</ul>
					</div>
				</div>
				

				<main>
					<h1><a class="header" href="#the-gobba-programming-language-basics" id="the-gobba-programming-language-basics">The Gobba Programming Language Basics</a></h1>
<h2><a class="header" href="#comments" id="comments">Comments</a></h2>
<p>Comments are treated by gobba as whitespace and consequently ignored. Comments
can be nested and are multi-line by default, and can be written as following:</p>
<pre><code class="language-gobba">(* This is a comment *)
</code></pre>
<h2><a class="header" href="#numbers-arithmetics-and-the-numerical-tower" id="numbers-arithmetics-and-the-numerical-tower">Numbers, Arithmetics and the Numerical Tower</a></h2>
<p>Gobba supports 3 kinds of numbers: integers, floats and complex numbers.
Floating point numbers' decimal part can be omitted if it is 0. Floats also
support the scientific notation in literal values. Complex numbers literals are
&quot;allocated&quot; from other two numbers with the <code>:+</code> operator. The number
on the left will be the real part and the one on the right will be allocated as
the imaginary part.</p>
<pre><code class="language-gobba">(* Integer literals *)
1 ;
0 ;
10350156 ;
(* Floating Point Literals *)
1.2e-3 ;
0.0 ;
0.123 ;
34. ;
4.3e9 ;
(* Complex Number Literals *)
12.1 :+ 1.23;
0 :+ 1.12;
</code></pre>
<p>Arithmetical operations are straightforward. If an arithmetical operation
is called on different types of numbers, the result is &quot;raised&quot; to the &quot;most inclusive&quot; type of numbers.
For example, Integer division returns an integer if the modulo is 0, and returns a float
otherwise.
Floating point numbers can use the power syntax using <code>e</code>.</p>
<pre><code class="language-gobba">(* Addition, multiplication and subtraction *)
1 + 2 + 3 * (4 - 1) ;
(* *)
1. / 2.315 ;
</code></pre>
<h2><a class="header" href="#boolean-literals-and-arithmetic" id="boolean-literals-and-arithmetic">Boolean literals and arithmetic</a></h2>
<p>The boolean literals in gobba are <code>true</code> and <code>false</code>. There are also operators
for the logical AND and OR: <code>&amp;&amp;</code> and <code>||</code>. The comparison operators return
boolean values and are:</p>
<ul>
<li><code>a = b</code>: True if and only if the two objects are the same</li>
<li><code>a &gt; b</code> and <code>a &gt;= b</code>: Greater and greater or equal</li>
<li><code>a &lt; b</code> and <code>a &lt;= b</code>: Less and less or equal</li>
</ul>
<p>Here's an example:</p>
<pre><code class="language-gobba">true &amp;&amp; false || (1 &lt; 2) &amp;&amp; (1 = 1) ;
</code></pre>
<h2><a class="header" href="#character-literals" id="character-literals">Character literals.</a></h2>
<p>The same as all the other languages: Single characters enclosed in <code>'</code> are character literals,
such as <code>'a'</code> or <code>'\n'</code>. UTF-8 support is planned for a future release.</p>
<h2><a class="header" href="#strings" id="strings">Strings</a></h2>
<p>Strings are values enclosed in double quotation marks.
Here is how to concatenate strings</p>
<pre><code class="language-gobba">&quot;hello &quot; ++ &quot;world&quot;
(* It is the same as *)
String:concat &quot;hello &quot; &quot;world&quot;
</code></pre>
<p>To convert any value to a string you can use the <code>show</code> primitive.</p>
<h2><a class="header" href="#lists" id="lists">Lists</a></h2>
<p>Lists are enclosed in square brackets and values are separated by commas.
Lists are heterogeneous, so any value in a list can have a different type from
the other elements of the list.</p>
<pre><code class="language-gobba">[1, 2, &quot;ciao&quot;, 4, 5] ;
</code></pre>
<p><code>::</code> is the classic <code>cons</code> operator. It inserts the element on the left at the beginning of the list.
This is done in <code>O(1)</code> time.
The <code>++</code> operator is used for list and string concatenation.</p>
<pre><code class="language-haskell">1 :: [2] ++ [3]
</code></pre>
<p>To access the n-th value of a list, use the <code>@</code> operator, called &quot;at&quot;. List indexes begin from 0.</p>
<pre><code class="language-gobba">[1, 2, 3, 4] @ 0 (* =&gt; 1 *)
[1, 2, 3, 4] @ 2 (* =&gt; 3 *)
</code></pre>
<p>In gobba, the classic functional programming functions and morphisms on lists
are defined in the <code>List</code> module:</p>
<p>Get the length of a list (done in <code>O(n)</code> time).</p>
<pre><code class="language-gobba">List:length [1, 2, 3, 4] ;
</code></pre>
<p>Get the element at the beginning of a list</p>
<pre><code class="language-gobba">List:head [1, 2, 3, 4] ;
</code></pre>
<p>Get another list with the first element removed</p>
<pre><code class="language-gobba">List:tail [1, 2, 3, 4] ;
</code></pre>
<p>Iterate a function over every list value and return a new list</p>
<pre><code class="language-gobba">List:map (fun x -&gt; x + 1) [1, 2, 3, 4] ;
</code></pre>
<p>List folding: see the <a href="https://en.wikipedia.org/wiki/Fold_(higher-order_function)">Wikipedia Page</a></p>
<pre><code class="language-gobba">List:foldl (fun x y -&gt; x - y) 10 [1, 2, 3, 4] ;
List:foldr (fun x y -&gt; x - y) 10 [1, 2, 3, 4] ;
</code></pre>
<h2><a class="header" href="#declarations" id="declarations">Declarations</a></h2>
<p>Local declaration statements are purely functional and straightforward:</p>
<pre><code class="language-gobba">let x = 4 and y = 1 in x + y
</code></pre>
<p>Global declaration statements create new, purely functional environments in both
programs and the REPL. Omitting <code>in</code> is syntax-sugar, subsequent blocks will
be evaluated in the resulting new environment.</p>
<pre><code class="language-gobba">let a = 2 ;
a + 3 ;
</code></pre>
<p>You can declare <a href="https://en.wikipedia.org/wiki/Lazy_evaluation">lazily evaluated</a>
variables by prefixing the name of the variables with the <code>lazy</code> keyword.</p>
<pre><code class="language-gobba">let x = 2 and lazy y = (3 + 4) ;
</code></pre>
<h2><a class="header" href="#toplevel-directives" id="toplevel-directives">Toplevel Directives</a></h2>
<p>Toplevel directives can be used in both files and the REPL. Like in OCaml, they
start with a <code>#</code> symbol. Note that toplevel directives are not expressions and
they can only be used in a file (or REPL) top level, and cannot be used inside expressions.</p>
<p><code>#include</code> loads a file at a position relative to the current directory (if in
the REPL) or the directory containing the current running file (in file mode).
The declarations in the included file will be included in the current toplevel environment:</p>
<pre><code class="language-gobba">#include &quot;examples/fibonacci.mini&quot; ;
</code></pre>
<p><code>#module</code> loads a file like <code>#include</code> but the declarations in the included file
will be wrapped in a dictionary, that acts as a module:</p>
<pre><code class="language-gobba">#module &quot;examples/fibonacci.mini&quot; ;
(* Declarations will be available in module *) Fibonacci
</code></pre>
<p><code>#open</code> takes a module name and imports everything that is contained in that module into the 
toplevel environment:</p>
<pre><code>#open Math;
</code></pre>
<ul>
<li><code>#verbosity n</code> sets verbosity level to <code>n</code>. There are &quot;unit&quot; directives:</li>
<li><code>#dumpenv ()</code> and <code>#dumppurityenv ()</code> dump the current environments.</li>
<li><code>#pure ()</code>, <code>#impure ()</code> and <code>#uncertain ()</code> set the globally allowed purity level.</li>
</ul>
<h2><a class="header" href="#functions-and-recursion" id="functions-and-recursion">Functions and recursion</a></h2>
<p>For parsing simplicity, only the OCaml anonymous function style of declaring
functions is supported. The keyword <code>fun</code> is interchangeable with <code>lambda</code>.</p>
<pre><code class="language-gobba">(fun x -&gt; x + 1) 1;
let fib = fun n -&gt; if n &lt; 2 then n else (fib (n - 1)) + fib (n - 2)
</code></pre>
<p>Functions are abstracted into a single parameter chain of functions, and they
can be partially applied:</p>
<pre><code class="language-gobba">(fun x y z -&gt; x + y + z) = (fun x -&gt; fun y -&gt; fun z -&gt; x + y + z) ;
(* result: true - bool - This is true!! *)

let f = (fun x y z -&gt; x + y + z) in f 1 2 3 ;
(* result: 6 - int - Function application *)

let f = (fun x y z -&gt; x + y + z) in f 1 2 ;
(* result: (fun z -&gt; ... ) - fun - Partial application *)
</code></pre>
<h2><a class="header" href="#dictionaries-and-modules" id="dictionaries-and-modules">Dictionaries and modules.</a></h2>
<p>Dictionary (object) values are similar to Javascript objects. The difference
from javascript is that the keys of an existing dictionary are treated as
symbols, and values can be lazy.</p>
<p>You may have noticed that dictionary fields are syntactically similar to the
assignments in <code>let</code> statements. This is because there is a strict approach
towards simplicity in the parsing logic and language syntax. A difference from
<code>let</code> statements, is that values in dictionaries can only access the
lexical scope <strong>outside</strong> of the dictionary.</p>
<pre><code class="language-gobba">let n = {hola = 1, lazy mondo = 2, somefunc = fun x -&gt; x + 1 } ;
let m = Dict:insert &quot;newkey&quot; 123 n ;
m = {newkey = 123, hola = 1, mondo = 2, somefunc = fun x -&gt; x + 1 } (* =&gt; true *)
Dict:haskey &quot;newkey&quot; m (* =&gt; true *)
(* =&gt; {newkey = 124, hola = 2, mondo = 3} *)
</code></pre>
<p>An element of a dictionary can be accessed using the <code>:</code> infix operator.</p>
<pre><code class="language-gobba">m:hola (* returns 1 *)
</code></pre>
<p>Some morphisms are defined in the <code>Dict</code> module.</p>
<pre><code class="language-gobba">Dict:map (fun x -&gt; x + 1) m;
Dict:foldl (fun x y -&gt; x + y) 0 m;
Dict:foldr (fun x y -&gt; x - y) 10 m;
</code></pre>
<h2><a class="header" href="#haskell-like-dollar-syntax" id="haskell-like-dollar-syntax">Haskell-like dollar syntax</a></h2>
<p>Too many parens?</p>
<pre><code class="language-gobba">f (g (h (i 1 2 3)))
</code></pre>
<p>Is equivalent to</p>
<pre><code class="language-haskell">f $ g $ h $ i 1 2 3
</code></pre>

				</main>

				<nav id="nav-wide-wrapper" aria-label="Page navigation">
					
						<a href="../install.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
							<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
								<path d="M4 10l9 9 1.4-1.5L7 10l7.4-7.5L13 1z"/>
							</svg>
						</a>
					

					
						<a href="../basics/purity.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
							<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
								<path d="M7 1L5.6 2.5 13 10l-7.4 7.5L7 19l9-9z"/>
							</svg>
						</a>
					
				</nav>
			</div>
		</div>

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../book.js" type="text/javascript" charset="utf-8"></script>
    </body>
</html>
